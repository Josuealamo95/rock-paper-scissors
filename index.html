<!DOCTYPE html>

<html>

    <head>
        <title>Rock Paper Scissors!</title>
        <meta charset="UTF-8">
    </head>

    <body>
      <div id = 'container'></div>
        <button>rock</button>
        <button>paper</button>
        <button>scissors</button>

        <script>
        playerScore = 0
        computerScore = 0
        
        gameBtn = document.querySelectorAll('button');

        content = document.querySelector('#container');
          playerScoreDisplay = document.createElement('div');
          playerScoreDisplay.textContent = 'Player score is: ' + playerScore;
          content.append(playerScoreDisplay);

          computerScoreDisplay = document.createElement('div');
          computerScoreDisplay.textContent = 'Computer score is: ' + computerScore;
          content.append(computerScoreDisplay);

        function computerPlay() {
          let rockPaperScissors = ['rock', 'paper', 'scissors']
          computerSelection = rockPaperScissors[Math.floor(Math.random() * rockPaperScissors.length)];
          return computerSelection
        }

        function gameRound() {

          //IN CASE OF A TIE
          if (playerSelection === computerSelection) {
            alert("It's a tie!"); 
            
          //IN CASE OF SCISSORS VS PAPER
          } else if (playerSelection == "scissors" && computerSelection == "paper") {
            playerScore += 1;
            alert("You win this round! Scissors beats Paper!");
            playerScoreDisplay.textContent = "Player score is: " + playerScore;
            return playerScore

          } else if (playerSelection == "paper" && computerSelection == "scissors") {
            computerScore += 1;
            alert("You lose this round! Scissors beats Paper!");
            playerScoreDisplay.textContent = "Player score is: " + playerScore;
            return computerScore

          //IN CASE OF SCISSORS VS ROCK
          } else if (playerSelection == "scissors" && computerSelection == "rock") {
            computerScore += 1;
            alert("You lose this round! Rock beats Scissors!");
            computerScoreDisplay.textContent = 'Computer score is: ' + computerScore;
            return computerScore

          } else if (playerSelection == "rock" && computerSelection == "scissors") {
            playerScore += 1;
            alert("You win this round! Rock beats Scissors!"); 
            playerScoreDisplay.textContent = "Player score is: " + playerScore;
            return playerScore

          //IN CASE OF PAPER VS ROCK
          } else if (playerSelection == "paper" && computerSelection == "rock") {
            playerScore += 1;
            alert("You win this round! Paper beats Rock!");
            playerScoreDisplay.textContent = "Player score is: " + playerScore;
            return playerScore

          } else if (playerSelection == "rock" && computerSelection == "paper") {
            computerScore += 1;
            alert("You lose this round! Paper beats Rock!");
            computerScoreDisplay.textContent = 'Computer score is: ' + computerScore;
            return computerScore
          } 
        }

        function checkGameState() {
          if (playerScore == 5 || computerScore == 5) {
            setTimeout(gameOver, 500);
          }
        }

        function gameOver() {
          if(playerScore == 5) {
            playerWins = "You beat the computer!";
            alert(playerWins);
            playerScore = 0;
            computerScore = 0;
            playerScoreDisplay.textContent = "Player score is: " + playerScore;
            computerScoreDisplay.textContent = 'Computer score is: ' + computerScore;
            return playerWins
          } else if(computerScore == 5) {
            playerLoses = "Game over. The computer wins!";
            alert(playerLoses);
            playerScore = 0;
            computerScore = 0;
            playerScoreDisplay.textContent = "Player score is: " + playerScore;
            computerScoreDisplay.textContent = 'Computer score is: ' + computerScore;
            return playerLoses
          }
        }

        gameBtn.forEach(button => button.addEventListener('click', ()=> {
          playerSelection = button.textContent;
          computerPlay();
          gameRound();
          checkGameState();
        }));
        </script>
      
    </body>

</html>